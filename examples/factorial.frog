# Calculate the factorial of a given integer.
let factorial input : int -> int =
    # Recursive calls must be in the tail position so use an accumulator.
    let with_accumulator n accum : int int -> int =
        if n > 1 then
            with_accumulator (n - 1) (n * accum)
        else
            accum
    in
    with_accumulator input 1

let main : @in -> @out =
    @out "n = ";
    let input : int = @in in
    @out "n! = " (factorial input)
